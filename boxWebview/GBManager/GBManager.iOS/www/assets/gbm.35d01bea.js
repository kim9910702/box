import{d as m,r as _,b as C}from"./index.a4fbc946.js";const y="20230103.1856",w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var G={name:"Base64",_keyStr:w+"=",Encode:function(e){if(typeof e!="string")return console.log(`%c# Base64.Encode invalid data. [${e}]%c`,"background:#c80032; padding: 1px; border-radius: 3px;  color: #fff","background:transparent"),e;let r="",o,t,s,i,a,n,c,g=0;for(e=this._utf8_encode(e);g<e.length;)o=e.charCodeAt(g++),t=e.charCodeAt(g++),s=e.charCodeAt(g++),i=o>>2,a=(o&3)<<4|t>>4,n=(t&15)<<2|s>>6,c=s&63,isNaN(t)?n=c=64:isNaN(s)&&(c=64),r=r+this._keyStr.charAt(i)+this._keyStr.charAt(a)+this._keyStr.charAt(n)+this._keyStr.charAt(c);return r},Decode:function(e){if(typeof e!="string")return console.log(`%c# Base64.Decode invalid data. [${e}]%c`,"background:#c80032; padding: 1px; border-radius: 3px;  color: #fff","background:transparent"),console.trace(e),e;try{let r="",o,t,s,i,a,n,c,g=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");g<e.length;)i=this._keyStr.indexOf(e.charAt(g++)),a=this._keyStr.indexOf(e.charAt(g++)),n=this._keyStr.indexOf(e.charAt(g++)),c=this._keyStr.indexOf(e.charAt(g++)),o=i<<2|a>>4,t=(a&15)<<4|n>>2,s=(n&3)<<6|c,r=r+String.fromCharCode(o),n!==64&&(r=r+String.fromCharCode(t)),c!==64&&(r=r+String.fromCharCode(s));return r=this._utf8_decode(r),r}catch(r){return console.log(`%c# Base64.Decode exception has occurred. [${r}]:[${e}]%c`,"background:#c80032; padding: 1px; border-radius: 3px;  color: #fff","background:transparent"),console.trace(),e}},_utf8_encode:function(e){e=e.replace(/\r\n/g,`
`);let r="";for(let o=0;o<e.length;o++){const t=e.charCodeAt(o);t<128?r+=String.fromCharCode(t):t>127&&t<2048?(r+=String.fromCharCode(t>>6|192),r+=String.fromCharCode(t&63|128)):(r+=String.fromCharCode(t>>12|224),r+=String.fromCharCode(t>>6&63|128),r+=String.fromCharCode(t&63|128))}return r},_utf8_decode:function(e){try{let r="",o=0,t=0,s=0,i=0;for(;o<e.length;)t=e.charCodeAt(o),t<128?(r+=String.fromCharCode(t),o++):t>191&&t<224?(s=e.charCodeAt(o+1),r+=String.fromCharCode((t&31)<<6|s&63),o+=2):(s=e.charCodeAt(o+1),i=e.charCodeAt(o+2),r+=String.fromCharCode((t&15)<<12|(s&63)<<6|i&63),o+=3);return r}catch(r){return console.log(`%c# Base64._utf8_decode exception has occurred. [${r}]:[${e}]%c`,"background:#c80032; padding: 1px; border-radius: 3px;  color: #fff","background:transparent"),console.trace(),e}}};const S="background:transparent",u="background:#c80032; padding: 1px; border-radius: 3px;  color: #fff";var l={name:"Util",JDecode(e){try{if(e instanceof Array){for(const r of e)this.JDecode(r);return e}else{for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const o=Object.getOwnPropertyDescriptor(e,r)||{};if(typeof o.writable!="undefined"&&o.writable===!0){const t=e[r];typeof t=="string"?e[r]=G.Decode(t):typeof t=="object"&&this.JDecode(t)}}return e}}catch(r){return console.log(`%c#[${this.GetTime()}] Protocol.JDecode exception has occurred. [${r}]:[${e}]%c`,u,S),console.trace(),e}},JParse(e){try{if(typeof e!="string")throw new Error("Invalid source data");if(e.trim().length===0)return{};const r=JSON.parse(e||"");if(typeof r=="string")throw new Error("Invalid source data after parsing");return r}catch(r){return console.log(`%c#[${this.GetTime()}] Protocol.JParse exception has occurred. [${r}]:[${e}]%c`,u,S),console.trace(),{}}},GetTime(e){let r;typeof e=="number"?r=new Date(e):r=new Date;let o=("0000"+r.getFullYear()).toString(),t=("00"+(r.getMonth()+1)).toString(),s=("00"+r.getDate()).toString(),i=("00"+r.getHours()).toString(),a=("00"+r.getMinutes()).toString(),n=("00"+r.getSeconds()).toString(),c=("000000"+r.getMilliseconds()).toString();return o=o.substring(o.length-4,o.length),t=t.substring(t.length-2,t.length),s=s.substring(s.length-2,s.length),i=i.substring(i.length-2,i.length),a=a.substring(a.length-2,a.length),n=n.substring(n.length-2,n.length),c=c.substring(c.length-6,c.length),`${o}-${t}-${s} ${i}:${a}:${n}.${c}`},UUID(){function e(){return((1+Math.random())*65536|0).toString(16).substring(1)}function r(){const o=new Date().getTime().toString(16);return o.substring(o.length-4,o.length)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+r()},GetUUID(){let e=localStorage.getItem("B_UUID")||"";return e.length<1&&(e=this.UUID(),localStorage.setItem("B_UUID",e)),e},HasClass(e,r){do{if(e.classList&&e.classList.contains(r)&&e.disabled!==!0)return e;e=e.parentNode}while(e);return null},HasTag(e,r){r=(r||"").toUpperCase();do{if(e.tagName&&e.tagName.toUpperCase()===r&&e.disabled!==!0)return e;e=e.parentNode}while(e);return null},Format(){const e=Array.prototype.slice.call(arguments,1);return(arguments[0]||"").replace(/{(\d+)}/g,(o,t)=>typeof e[t]!="undefined"?e[t]:o)}};const d="background:transparent",h="background:#bf00bf; padding: 1px; border-radius: 3px;  color: #fff",$=m("coreStatus",{state:()=>({version:y,confirm_page:[],bright_data:"",display_keep:"",permissions:{},ssid:{},imei:[],device_storage_dskey:""}),actions:{UpdateConfirmPage(e,r){e=e||"",r=r||null,this.confirm_page[e]=r,console.log(`%c#[${l.GetTime()}] UpdateConfirmPage: [${e}][${r}]%c`,h,d,this.confirm_page)},ClearConfirmPage(){this.confirm_page=[],console.log(`%c#[${l.GetTime()}] ClearConfirmPage.%c`,h,d,this.confirm_page)},UpdateBrightData(e){e=e||"",this.bright_data!==e&&console.log(`%c#[${l.GetTime()}] UpdateBrightData: [${e}]%c`,h,d),this.bright_data=e},UpdateDisplayKeep(e){e=e||"",this.display_keep!==e&&console.log(`%c#[${l.GetTime()}] UpdateDisplayKeep: [${e}]%c`,h,d),this.display_keep=e},UpdatePermissions(e){e=e||{},this.permissions!==e&&console.log(`%c#[${l.GetTime()}] UpdatePermissions: [${e}]%c`,h,d),this.permissions=e},UpdateSSID(e){e=e||{},this.ssid!==e&&console.log(`%c#[${l.GetTime()}] UpdateSSID: [${e}]%c`,h,d),this.ssid=e},UpdateIMEI(e){e=(JSON.parse(e).length===0?"[]":JSON.parse(e))||[],this.imei!==e&&console.log(`%c#[${l.GetTime()}] UpdateIMEI: [${e}]%c`,h,d),this.imei=e},UpdateDeviceStorage(e){e=e||"",this.device_storage_dskey!==e&&console.log(`%c#[${l.GetTime()}] UpdateDeviceStorage: [${e}]%c`,h,d),this.device_storage_dskey=e}}}),f="background:transparent",p="background:#c80032; padding: 1px; border-radius: 3px;  color: #fff",b="dsKey",D="IGSGKOREA",O="innogswireless!",B="192.168.15.61",P="9000";var v={name:"Mobile",app:null,storagekey:b.toLowerCase(),ssidname:D,ssidpw:O,gbmmobileaddressport:B+":"+P,Init(e){this.app=e},evalGetScreenBrightness(e){try{window.GBM.returnGetScreenBrightness=e,window.GBM.GetScreenBrightness()}catch{e("0")}},evalSetScreenBrightness(e){try{window.GBM.SetScreenBrightness(e)}catch(r){console.log(`%c#[${l.GetTime()}] evalSetScreenBrightness: Failed. [${e}][${r}]%c`,p,f)}},evalGetDeviceDisplayKeepOn(e){try{window.GBM.returnGetDeviceDisplayKeepOn=e,window.GBM.GetDeviceDisplayKeepOn()}catch{e("")}},evalSetDeviceDisplayKeepOn(e){try{window.GBM.SetDeviceDisplayKeepOn(e)}catch(r){console.log(`%c#[${l.GetTime()}] evalSetDeviceDisplayKeepOn: Failed. [${e}][${r}]%c`,p,f)}},evalGetSSID(e){try{window.GBM.returnGetSSID=e,window.GBM.GetSSID()}catch{e('{"result":0,"ssid":""}')}},evalGetIMEIInfo(e){try{window.GBM.returnGetIMEIInfo=e,window.GBM.GetIMEIInfo()}catch{e("[]")}},evalGetPermissions(e){try{window.GBM.returnGetPermissions=e,window.GBM.GetPermissions()}catch{e('{"PermissionPhoneState":false,"PermissionLocation":false,"PermissionRecord":false,"PermissionCamera":false}')}},evalRequestPermissions(){try{window.GBM.RequestPermissions()}catch(e){console.log(`%c#[${l.GetTime()}] evalRequestPermissions: Failed. [${e}]%c`,p,f)}},evalReadLocalStorage(e,r){try{window.GBM.returnReadLocalStorage=r,window.GBM.ReadLocalStorage(e)}catch{r("")}},evalWriteLocalStorage(e,r){try{window.GBM.WriteLocalStorage(e,r)}catch{localStorage.setItem(e,r)}}},I={name:"Protocol",app:null,self:null,process:{},protocol_done:_(!0),tCPStep1:"step1",tCPStep2:"step2",tCPStep3:"step3",tCPStep4:"step4"},U=C(({app:e})=>{e.config.globalProperties.$M=v,e.config.globalProperties.$U=l,e.config.globalProperties.$P=I,e.config.globalProperties.$C=$()});export{U as default};
